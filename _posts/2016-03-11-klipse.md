---
layout: post
title:  "KLIPSE: a simple and elegant online cljs compiler and evaluator"
date:   2016-03-17 07:57:46 +0200
categories: clojure
thumbnail: assets/klipse.png
description: "KLIPSE shows you what happens behind the scene in clojurescript: it shows you the JS GENERATED CODE."
---

### What is KLIPSE?

[KLIPSE][app-url] is a simple and elegant online cljs compiler and evaluator.


It looks like this:

![KLIPSE Screenshot](/assets/hello_klipse.png)

Basically, [KLIPSE][app-url] is made of 4 rectangles:

1. Top left rectangle: you insert your cljs code
2. Top right rectangle: you see the generated javascript code from the cljs code
3. Bottom left rectangle: you see the evaluation of the cljs code as a clojure object
4. Bottom right rectangle: you see the evaluation of the cljs code as a js object

Now, go ahead an play with it below or open [KLIPSE with input][app-url-with-input] in a separate tab: 

Press Ctlr-Enter in the top left rectangle below, and experiment the cljs Magic.

<iframe frameborder="0" width="100%" height="300px"
    src= 
"http://app.gadjett.com/cljs_compiler/index-dev.html?cljs_in=(map inc [1 2 3])">
</iframe>


### Why we are passionate about KLIPSE?

Like the whole clojurescript community, we were excited when David Nolen [published][cljs-next-url] on July 29, 2015:

>ClojureScript can compile itself.



[KLIPSE][app-url] allows you to understand better how clojure and clojurescript works.

First, you can play with it and use it a (very simplistic) REPL.

But the real value of KLIPSE is that it shows you what happens behind the scene in clojurescript: it shows you the **js generated code**.
It shows you the magic that kind of allows LISP/SCHEME to be available in the browser, as it was envisioned in 1995 by the javascript inventor [Brendan Eich][brendan-eich-url] to 

>put scheme in the  browser.

Reading, observing and admiring the js generated code by cljs should really be a source of bliss for us the cljs developers community.

The trigger for developing KLIPSE was [this discussion][discussion-url] where Shaun Lebron shed light on the `extend-type` mechanism in cljs. He wrote this [gist][gist-url] that demonstrates the different behaviour of `extend-type` for cljs objects, js objects and js base types. The bottom line is:

> `extend-type` adds protocol methods to the type object's prototype  except for JS base types (e.g. "function", "number", "array").

With [KLIPSE][app-url], you can see it live by yourself (no need for a gist) + you can modify the cljs code and see how it effects the generated js.

So go ahead give it a try and execute Shaun's code on [KLIPSE][app-url-shaun] or play with it below:

<iframe frameborder="0" width="100%" height="300px"
    src= 
"http://app.gadjett.com/cljs_compiler/index-dev.html?cljs_in=(defprotocol%20IFoo%0A(foo%20%5Bthis%5D))%0A%0A%3B%3B%20dummy%20cljs%20type%0A(deftype%20Bar%20%5B%5D)%0A%0A%3B%3B%20extending%20a%20cljs%20type%0A(extend-type%20Bar%0AIFoo%20(foo%20%5Bthis%5D%20(println%20%22Hello%20from%20IFoo.foo%20for%20Bar%22)))%0A%0A%3B%3B%20extending%20a%20js%20type%0A(extend-type%20js%2FFunction%0AIFoo%20(foo%20%5Bthis%5D%20(println%20%22Hello%20from%20IFoo.foo%20for%20js%2FFunction%22)))%0A%0A%3B%3B%20extending%20a%20js%20base%20type%0A(extend-type%20number%0AIFoo%20(foo%20%5Bthis%5D%20(println%20%22Hello%20from%20IFoo.foo%20for%20number%22)))">
</iframe>



### How KLIPSE is built?

We, [viebel][viebel-url] and [raphaelboukara][rafi-url], built KLIPSE (<span class="icon icon--github">{% include icon-github.svg %}</span> [github][github-url]) with [Om.next][om.next-url] and [CodeMirror][codemirror-url].

This [article][tuto-url] contains a step by step tutorial that explains how to build the same app.

Now, feel free to fork and contribute to [klipse][github-url], you can find some TODOs in the readme.

### What is the future of KLIPSE?

Join the github project and you'll know: [contribution][contribution-url]

### What is the meaning of the name KLIPSE?

We prefer to leave it as a riddle :)



[figwheel-url]: https://github.com/bhauman/lein-figwheel
[cljs.js-url]: https://github.com/clojure/clojurescript/blob/master/src/main/cljs/cljs/js.cljs
[om.next-url]: https://github.com/omcljs/om/wiki/Quick-Start-(om.next)
[react.js-url]: https://facebook.github.io/react/
[figwheel-url]: http://localhost:3449/
[dnpublish-url]: https://swannodette.github.io/2015/07/29/clojurescript-17/
[viebel-url]: https://github.com/viebel
[rafi-url]: https://github.com/raphaelboukara
[app-url]: http://app.gadjett.com/cljs_compiler/index-dev.html
[app-url-with-input]: http://app.gadjett.com/cljs_compiler/index-dev.html?cljs_in=(map inc [1 2 3])"
[app-url-shaun]: http://app.gadjett.com/cljs_compiler/index-dev.html?cljs_in=(defprotocol%20IFoo%0A(foo%20%5Bthis%5D))%0A%0A%3B%3B%20dummy%20cljs%20type%0A(deftype%20Bar%20%5B%5D)%0A%0A%3B%3B%20extending%20a%20cljs%20type%0A(extend-type%20Bar%0AIFoo%20(foo%20%5Bthis%5D%20(println%20%22Hello%20from%20IFoo.foo%20for%20Bar%22)))%0A%0A%3B%3B%20extending%20a%20js%20type%0A(extend-type%20js%2FFunction%0AIFoo%20(foo%20%5Bthis%5D%20(println%20%22Hello%20from%20IFoo.foo%20for%20js%2FFunction%22)))%0A%0A%3B%3B%20extending%20a%20js%20base%20type%0A(extend-type%20number%0AIFoo%20(foo%20%5Bthis%5D%20(println%20%22Hello%20from%20IFoo.foo%20for%20number%22)))
[github-url]: https://github.com/viebel/klipse
[codemirror-url]: https://codemirror.net/
[brendan-eich-url]: https://en.wikipedia.org/wiki/Brendan_Eich
[discussion-url]: https://groups.google.com/forum/#!searchin/clojurescript/extend-protocol/clojurescript/MKEZ9CBU77o/h7ejrbNFCgAJ
[gist-url]: https://gist.github.com/shaunlebron/a98a05b47a1521b58a6b
[contribution-url]: https://github.com/viebel/klipse#contribution
[tuto-url]: https://github.com/viebel/klipse#tutorial
[cljs-next-url]: http://swannodette.github.io/2015/07/29/clojurescript-17/
