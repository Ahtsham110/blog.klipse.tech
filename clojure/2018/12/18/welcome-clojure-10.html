<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="shortcut icon" href="/assets/favicon2.png">

  <title>Welcome Clojure 10</title>
  <meta name="description" content="Demo of Clojure 1.10 features. Tutorial. Data and People.">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet" href="/css/asciidoc-pygments.css">
  <link rel="canonical" href="https://blog.klipse.tech//clojure/2018/12/18/welcome-clojure-10.html">
  <link rel="alternate" type="application/rss+xml" title="An interactive journey into functional programming with Yehonathan Sharvit" href="https://blog.klipse.tech//feed.xml">
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet">

  <!-- start: facebook -->
  <meta property="og:title" content="Welcome Clojure 10">
  <meta property="og:image" content="https://blog.klipse.tech/assets/klipse.png">
  <meta property="og:description" content="Demo of Clojure 1.10 features. Tutorial. Data and People.">
  <meta property="og:site_name" content="An interactive journey into functional programming with Yehonathan Sharvit">
  <meta property="article:author" content="Yehonathan Sharvit">
  <!-- end: facebook -->


</head>

  <body>
    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">An interactive journey into functional programming with Yehonathan Sharvit</a>

    <div class="site-title" style="float:right;margin-top:14px;">
<a class="github-button" href="https://github.com/viebel/klipse" data-size="large" data-show-count="true" aria-label="Star viebel/klipse on GitHub">Klipse</a>
</div>
<script async defer src="https://buttons.github.io/buttons.js"></script>

    <!-- <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        
          
          <a class="page-link" href="/data-oriented-programming-book.html">Data Oriented Programming</a>
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      </div>
    </nav> -->

  </div>

</header>

    <div class="page-content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <div class="left-post-header">
      <img src="https://blog.klipse.tech/assets/klipse.png">
    </div>
    <div>
      <h1 class="post-title" itemprop="name headline">Welcome Clojure 10</h1>
      <p class="post-meta"><time datetime="2018-12-18T19:11:24+00:00" itemprop="datePublished">Dec 18, 2018</time>
	 •
	<span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Yehonathan Sharvit</span></span>
	
	</p>
    </div>

  </header>
  <div class="post-content" itemprop="articleBody">
    <h1 id="clojure-110-features">Clojure 1.10 features</h1>

<p>Clojure 1.10 is out. If you look at the <a href="https://github.com/clojure/clojure/blob/master/changes.md#changes-to-clojure-in-version-110">official change log in github</a>, you will see the main features of Clojure 1.10:</p>

<ol>
  <li>Java compatibility improvement</li>
  <li>A new stream based REPL named <code class="language-plaintext highlighter-rouge">prepl</code></li>
  <li>Better Error messages</li>
  <li>Two new protocols: <code class="language-plaintext highlighter-rouge">Datafiable</code> and <code class="language-plaintext highlighter-rouge">Navigable</code></li>
  <li>Protocol Extension by Metadata</li>
  <li>A new System named <code class="language-plaintext highlighter-rouge">tap</code></li>
  <li>Read string - capture mode</li>
</ol>

<p>To me, the main theme of Clojure 1.10 is: <strong>Data and People</strong>.</p>

<p><img src="/assets/data-and-people.jpg" alt="Data and People" /></p>

<p>In this blog post, we are going to explore features 3 to 7 and illustrate each feature with live code snippets that run directly in your browser. The code snippets are in Clojurescript. The corresponding Clojure code might be slighlty different.</p>

<p>Having a live demo of Clojure 1.10 features in the browser, the same week that Clojure 1.10 is released has made possible by the great work of <a href="https://twitter.com/swannodette">David Nolen</a> and <a href="https://twitter.com/mfikes">Mike Fikes</a> who ported Clojure 1.10 features to Clojurescript so quickly.</p>

<p>I am personally thankful for Mike that helped me integrating those features into <a href="https://github.com/viebel/klipse">Klipse</a>. Klipse is a tool that leverages self-hosted Clojurescript to integrate interactive code snippets in a web page.</p>

<h1 id="better-error-messages">Better Error messages</h1>

<p>Error messages now contain the phase where the error occurs. There are 5 phases:</p>

<ol>
  <li>reading the source code</li>
  <li>macro exansion</li>
  <li>compilation</li>
  <li>execution</li>
  <li>result printing</li>
</ol>

<p>The way errors are displayed in the REPL is:</p>

<ol>
  <li>The first line details the phase where the error occured</li>
  <li>The subsequent lines provide details about the error</li>
</ol>

<p>The errors get more detailed when we require the <code class="language-plaintext highlighter-rouge">clojure.core.specs.alpha</code> namespace, that contains <code class="language-plaintext highlighter-rouge">clojure.spec</code> definitions for basic parts of the language:</p>

<pre><code class="language-klipse">(require 'clojure.core.specs.alpha)
</code></pre>

<p>The most valuable improvement is when an error occur inside a macro. Now, when you make a syntax error inside <code class="language-plaintext highlighter-rouge">defn</code>, you get a detailed explanation given by <code class="language-plaintext highlighter-rouge">clojure.spec</code> about what parts of the form are incorrect.</p>

<pre><code class="language-klipse">(defn foo "" 1)
</code></pre>

<p>And if you provide a map with an odd number of forms, you get a very clear explanation:</p>

<pre><code class="language-klipse">(def my-map {:foo 12 :bar})
</code></pre>

<p>Better error messages is really a great human contribution by the Clojure team.</p>

<h1 id="two-new-protocols-datafiable-and-navigable">Two new protocols: <code class="language-plaintext highlighter-rouge">Datafiable</code> and <code class="language-plaintext highlighter-rouge">Navigable</code></h1>

<p>Clojure’s narrative has always been around data. Data immutability, Code as data etc… Some people say that Clojure is a Data-drive languages. Clojure 1.10 takes the data story one step further. Now, every piece of Clojure can be seen as data: it can be <em>datified</em> and <em>navigated</em>. Out of the box, Clojure provides datification of atoms, vars, namespaces and more…</p>

<p>Remark: <code class="language-plaintext highlighter-rouge">Datafiable</code> and <code class="language-plaintext highlighter-rouge">Navigable</code> have their most natural application in the context of building tools for data exploration. You will probably not need it in your web service. But it’s part of Clojure now, so I think it’s interesting to discover their “mechanics”.</p>

<p>To datafy a value, we call the <code class="language-plaintext highlighter-rouge">datafy</code> function from the <code class="language-plaintext highlighter-rouge">clojure.datafy</code> namespace:</p>

<pre><code class="language-klipse">(require '[clojure.datafy :refer [datafy]])
</code></pre>

<p>Simple values are datafied <em>as is</em>:</p>

<pre><code class="language-klipse">(datafy 42)
</code></pre>

<p>Atoms are datafied with wrapping square brackets:</p>

<pre><code class="language-klipse">(datafy (atom 42))
</code></pre>

<p>In order to datafy an object, all we need to do is to extend the <code class="language-plaintext highlighter-rouge">clojure.core.protocols/Datafiable</code> protocol that is made of a single function named <code class="language-plaintext highlighter-rouge">datafy</code>.</p>

<p>Let’s illustrate that by creating custom Record with the name of the record  included in its datafication.</p>

<pre><code class="language-klipse">(require '[clojure.core.protocols :as p])

(defrecord MyRecord [a b]
  p/Datafiable
  (datafy [x] {:type 'MyRecord
               :a (:a x)
               :b (:b x)}))
			   
(datafy (MyRecord. 1 2))
</code></pre>

<p>And because in Clojure protocols and records are open, we can even datafy an existing object with <code class="language-plaintext highlighter-rouge">extend-type</code>.</p>

<p>For instance, we can datafy lazy sequences as truncated lists with the first 10 items:</p>

<pre><code class="language-klipse">(extend-type LazySeq
  p/Datafiable
  (datafy [x] (take 10 x)))

(datafy (map inc (range 100)))
</code></pre>

<p>The examples shown in this section are for illustrative purpose only. It is not advised to modify the behaviour of a Clojure core component like <code class="language-plaintext highlighter-rouge">LazySeq</code>.</p>

<p>You can check <a href="https://www.youtube.com/watch?v=c52QhiXsmyI">this talk about the REBL</a> to discover a really cool application of <code class="language-plaintext highlighter-rouge">Datafiable</code> <code class="language-plaintext highlighter-rouge">Navigable</code>.</p>

<h1 id="protocol-extension-by-metadata">Protocol Extension by Metadata</h1>

<p>What about datification of a specific map?</p>

<p>No problem, Clojure 1.10 supports protocol extension by metadata. When a protocol is marked with <code class="language-plaintext highlighter-rouge">:extend-via-metadata true</code>, we can extend it via metadata.</p>

<pre><code class="language-klipse">(defprotocol Component
  :extend-via-metadata true
  (start [component]))
</code></pre>

<p>Now, any object can extend <code class="language-plaintext highlighter-rouge">Component</code> by specifying a value for <code class="language-plaintext highlighter-rouge">start</code> in its metadata, just like this:</p>

<pre><code class="language-klipse">(def component (with-meta {:name "db"} {`start (constantly "started")}))
(start component)
</code></pre>

<p>It is no surprise that the <code class="language-plaintext highlighter-rouge">Datafiable</code> protocol, exposed in the previous section, is marked with <code class="language-plaintext highlighter-rouge">:extend-via-metadata true</code>. As a consequence, a map can be datafied on the fly. All we have to do is specify an implementation for <code class="language-plaintext highlighter-rouge">clojure.core.protocols/datafy</code> in the metadata:</p>

<pre><code class="language-klipse">(def john-doe (with-meta 
                {:name "John Doe"
                 :language "us"} 
                {`clojure.core.protocols/datafy (fn [x] (assoc x :type 'Person))}))

(datafy john-doe)
</code></pre>

<p>Here is the official documentation for <a href="https://clojure.org/reference/protocols#_extend_via_metadata">Protocol Extension by Metadata</a>.</p>

<h1 id="a-new-system-tap">A new system: tap</h1>

<p><code class="language-plaintext highlighter-rouge">tap</code> is a shared, globally accessible system for distributing a series of informational or diagnostic values to a set of (presumably effectful) handler functions.</p>

<p>In a nutshell, with <code class="language-plaintext highlighter-rouge">tap</code>, we can distribute a series of values to a set of handlers. 
We register handlers with <code class="language-plaintext highlighter-rouge">add-tap</code>:</p>

<pre><code class="language-klipse">(def my-atom (atom nil))
(add-tap #(reset! my-atom %))
(def your-atom (atom nil))
(add-tap #(reset! your-atom %))
</code></pre>

<p>And we send values with <code class="language-plaintext highlighter-rouge">tap&gt;</code>:</p>

<pre><code class="language-klipse">(tap&gt; "Hello World")
</code></pre>

<p>Our handlers have been called, therefore both <code class="language-plaintext highlighter-rouge">my-atom</code> and <code class="language-plaintext highlighter-rouge">your-atom</code> contains the value that we sent:</p>

<pre><code class="language-klipse" data-loop-msec="100">
[@my-atom @your-atom]
</code></pre>

<p><code class="language-plaintext highlighter-rouge">tap</code> can be used as a better debug <code class="language-plaintext highlighter-rouge">prn</code>, or for facilities like logging etc…</p>

<h1 id="read-string---capture-mode">Read String - capture mode</h1>

<p>As a LISP dialect, Clojure allows us to convert a string that contains an expression to the corresponding data, with <code class="language-plaintext highlighter-rouge">read-string</code> function. Clojure 1.10 introduces <code class="language-plaintext highlighter-rouge">read+string</code> (with a <code class="language-plaintext highlighter-rouge">+</code> instead of <code class="language-plaintext highlighter-rouge">-</code>) that returns both the data and the original string.</p>

<pre><code class="language-klipse">(require '[clojure.tools.reader :refer [read+string]])
(require '[cljs.tools.reader.reader-types :refer [source-logging-push-back-reader]])
(read+string (source-logging-push-back-reader "(def a    1)"))
</code></pre>

<p>There are two differences in Clojure vs Clojurescript regarding <code class="language-plaintext highlighter-rouge">read+string</code>:</p>

<ol>
  <li>In Clojure, it requires a <code class="language-plaintext highlighter-rouge">LineNumberingPushbackReader</code> instead of <code class="language-plaintext highlighter-rouge">source-logging-push-back-reader</code></li>
  <li>In Clojure, it is part of <code class="language-plaintext highlighter-rouge">clojure.core</code></li>
</ol>

<h1 id="play-on-your-own-repl">Play on your own REPL</h1>

<p>I hope that you enjoyed the discovery of Clojure 1.10 features in your browser. Now, it’s time to try on your own machine. Thanks to the awesome <a href="/clojure/2018/09/16/hello-clojure.html">Clojure CLI</a>, that’s super easy with this single command line:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span>clj <span class="nt">-Sdeps</span> <span class="s2">"{:deps {org.clojure/clojure {:mvn/version </span><span class="se">\"</span><span class="s2">1.10.0</span><span class="se">\"</span><span class="s2">}}}"</span>
Clojure 1.10.0
<span class="nv">user</span><span class="o">=&gt;</span>
</code></pre></div></div>

<p>Go for it!</p>


  </div>

</article>
<div class="patreon">
  If you enjoy this kind of interactive articles would you consider a (small) donation💸  on <a href="https://www.patreon.com/bePatron?u=18227864">Patreon</a> or at least giving a star⭐ for the Klispe repo on <a href="https://github.com/viebel/klipse/stargazers"> Github</a>?
</div>




<link rel="stylesheet" type="text/css" href="https://storage.googleapis.com/app.klipse.tech/css/codemirror.css">
<link rel="stylesheet" type="text/css" href="https://storage.googleapis.com/app.klipse.tech/css/prolog.css">

<script>
    window.klipse_settings = {
        codemirror_options_in: {
            lineWrapping: true,
            autoCloseBrackets: true
        },
        codemirror_options_out: {
            lineWrapping: true
        },
        beautify_strings: true,

        selector: '.language-klipse, .language-eval-clj',
        selector_eval_js: '.language-klipse-eval-js, .language-eval-js, [data-lang=klipse-javascript]',
        selector_jsx: '.language-klipse-jsx',
        selector_prolog_rules: '.language-prolog-rules',
        selector_prolog_query: '.language-prolog-query',
        selector_render_jsx: '.language-render-jsx',
        selector_es2017: '.language-es2017',
        selector_brainfuck: '.language-brainfuck',
        selector_transpile_jsx: '.language-transpile-jsx',
        selector_eval_php: '.language-klipse-eval-php',
        selector_eval_markdown: '.language-klipse-markdown',
        selector_eval_lambdaway: '.language-klipse-lambdaway',
        selector_eval_python_client: '.language-klipse-python, .language-eval-python',
        selector_eval_html: '.language-klipse-html',
        selector_sql: '.language-klipse-sql',
        selector_eval_ruby: '.language-klipse-eval-ruby, .language-eval-ruby',
        selector_eval_scheme: '.language-klipse-scheme, .language-eval-scheme',
        selector_eval_clisp: '.language-klipse-clisp',    
        selector_eval_cpp: '.language-klipse-cpp',
        selector_google_charts: '.language-google-chart',
        selector_plot: '.language-plot',
        selector_oblivion: '.language-oblivion',
        selector_lua: '.language-klipse-lua',
        selector_js: '.language-klipse-js',
        selector_eval_ocaml: '.language-klipse-ocaml',
        selector_transpile_ocaml: '.language-transpile-ocaml',
        selector_transpile_reason_3: '.language-transpile-reason',
        selector_transpile_reason_3_to_ocaml: '.language-transpile-reason-to-ocaml',
        selector_eval_reason_3: '.language-klipse-reason',
        selector_eval_reason_3_with_types: '.language-klipse-reason-types',
        selector_eval_ocaml_with_types: '.language-klipse-ocaml-types',
        selector_ocaml_to_reason: '.language-ocaml-to-reason',
        selector_reagent: '.language-reagent',
    };










    

    


</script>



<script src="https://storage.googleapis.com/app.klipse.tech/plugin/js/klipse_plugin.js?v=8.0.1"></script>



<footer class="site-footer">
  
  <div class="wrapper" style="
			      font-size: larger;
			      color: #5f7fbf;
			      font-weight: bold;">
    <p> <span> <!-- <a href="https://twitter.com/viebel">
  <span class="icon icon--twitter"><svg viewBox="0 0 16 16"><path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/></svg>
</span>
  <span class="username">viebel</span>
</a> -->


<a href="https://twitter.com/viebel"
   class="twitter-follow-button" 
   data-show-count="false" 
   data-size="large">Follow viebel</a>
  <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
 </span> to stay up-to-date with the coolest interactive articles around the world.</p>
    <p> Discover <a href="/"> more cool interactive articles</a> about javascript, clojure[script], python, ruby, scheme, c++ and even brainfuck!</p>
    <p> Give Klipse a Github star
      <span>
  <a class="github-button" href="https://github.com/viebel/klipse" data-size="large" data-show-count="true" aria-label="Star viebel/klipse on GitHub"></a>
      </span>
      to express how much you appreciate <em>Code Interactivity</em>. </p>
    <p>
      <form style="text-align: left;" action="https://tinyletter.com/klipse" method="post" target="popupwindow" onsubmit="window.open('https://tinyletter.com/klipse', 'popupwindow', 'scrollbars=yes,width=800,height=600');return true">
	<label for="tlemail">Subscribe to the Klipse newsletter:</label>
	<input type="email" style="width:180px" name="email" id="tlemail" placeholder="Enter your email address"/>
	<input type="hidden" value="1" name="embed"/>
	<input style="padding-left:10px; font-size: larger; color: #5f7fbf; font-weight: bold;" type="submit" value="Subscribe" />
      </form>
    </p>
    <p> Feel free to email me <a href="mailto:viebel@gmail.com?Subject=I%20want%20to%20write%20an%20interactive%20blog%20post%20with%20KLIPSE"><span class="icon icon--github"><?xml version="1.0" encoding="iso-8859-1"?>
<!-- Generator: Adobe Illustrator 18.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Capa_1" x="0px" y="0px" viewBox="0 0 382.117 382.117" style="enable-background:new 0 0 382.117 382.117;" xml:space="preserve" width="512px" height="512px">
<path d="M336.764,45.945H45.354C20.346,45.945,0,65.484,0,89.5v203.117c0,24.016,20.346,43.555,45.354,43.555h291.41  c25.008,0,45.353-19.539,45.353-43.555V89.5C382.117,65.484,361.772,45.945,336.764,45.945z M336.764,297.72H45.354  c-3.676,0-6.9-2.384-6.9-5.103V116.359l131.797,111.27c2.702,2.282,6.138,3.538,9.676,3.538l22.259,0.001  c3.536,0,6.974-1.257,9.677-3.539l131.803-111.274v176.264C343.664,295.336,340.439,297.72,336.764,297.72z M191.059,192.987  L62.87,84.397h256.378L191.059,192.987z" fill="#fc8ba0"/>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
</svg>
</span><span class="username">viebel@gmail.com</span></a>
 for getting practical tips and tricks in writing your first interactive blog post.</p>
  </div>
</footer>


<div id="disqus_thread"></div>
<script>
    /**
    * RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
    * LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
    */
    var disqus_config = function () {
        this.page.url = "https://blog.klipse.tech/" + "/clojure/2018/12/18/welcome-clojure-10.html";
        this.page.identifier = "62BC4D8C-5AB3-4D97-B6B2-29A0BC2D0EAD";
        this.page.title = "Welcome Clojure 10";
    };
    (function() { // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');

        s.src = '//klipse.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>



      </div>
    </div>
    

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-75651930-1', 'auto');
  
  	ga('send', 'pageview', {'dimension1': 'Yehonathan Sharvit'});
  

  function timer11(){ga('send', 'event', 'TimeOnPage', '1', '11-30 seconds', { 'nonInteraction': 1 });}
  function timer31(){ga('send', 'event', 'TimeOnPage', '2', '31-60 seconds', { 'nonInteraction': 1 });}
  function timer61(){ga('send', 'event', 'TimeOnPage', '3', '61-180 seconds', { 'nonInteraction': 1 });}
  function timer181(){ga('send', 'event', 'TimeOnPage', '4', '181-600 seconds', { 'nonInteraction': 1 });}
  function timer601(){ga('send', 'event', 'TimeOnPage', '5', '601-1800 seconds', { 'nonInteraction': 1 });}
  function timer1801(){ga('send', 'event', 'TimeOnPage', '6', '1801+ seconds', { 'nonInteraction': 1 });}
  ga('send', 'event', 'TimeOnPage', '0', '0-10 seconds', { 'nonInteraction': 1 });
  setTimeout(timer11,11000);
  setTimeout(timer31,31000);
  setTimeout(timer61,61000);
  setTimeout(timer181,181000);
  setTimeout(timer601,601000);
  setTimeout(timer1801,1801000);
</script>


  </body>
</html>
